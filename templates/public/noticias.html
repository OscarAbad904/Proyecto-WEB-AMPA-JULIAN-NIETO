{% extends "public/layout.html" %}

{% block title %}Noticias ¬∑ AMPA Juli√°n Nieto{% endblock %}

{% block content %}
  <section class="news-section">
    <div class="container">
      <div class="news-header fade-in">
        <div>
          <h1 class="news-title">√öltimas Noticias</h1>
          <p class="news-subtitle">Lo m√°s reciente del AMPA, actividades, comunicados y reuniones.</p>
        </div>
        {% if can_manage_members %}
          <div class="news-mode-switch">
            <span class="switch-label">Modo</span>
            <button class="news-switch-btn active" data-mode="view" id="mode-view">Vista</button>
            <button class="news-switch-btn" data-mode="edit" id="mode-edit">Edici√≥n</button>
          </div>
        {% endif %}
      </div>

      <div class="news-grid">
        <div class="news-card fade-in">
          <div class="news-card-icon">üì∞</div>
          <h3 class="news-card-title">Torneo de Ajedrez ‚ÄúSan Valero‚Äù</h3>
          <p class="news-card-desc">Competici√≥n online abierta a todo el alumnado. ¬°Inscr√≠bete!</p>
          <span class="news-card-date">Enero, 2025</span>
        </div>
        <div class="news-card fade-in" style="transition-delay: 0.2s;">
          <div class="news-card-icon orange">üéâ</div>
          <h3 class="news-card-title">Fiesta de Navidad solidaria</h3>
          <p class="news-card-desc">Celebramos una fiesta solidaria con actividades navide√±as para todas las edades.</p>
          <span class="news-card-date orange">Diciembre, 2024</span>
        </div>
        <div class="news-card fade-in" style="transition-delay: 0.4s;">
          <div class="news-card-icon green">‚úÖ</div>
          <h3 class="news-card-title">Abierto por Vacaciones - Navidad</h3>
          <p class="news-card-desc">Programa especial en periodos no lectivos con actividades l√∫dicas y formativas.</p>
          <span class="news-card-date green">Diciembre, 2024</span>
        </div>
      </div>

      <div class="news-articles">
        <h3 class="news-title fade-in">Noticias y Novedades</h3>
        <div class="news-filter fade-in">
          <button class="news-filter-btn active" onclick="filterNews('all')">Todas</button>
          <button class="news-filter-btn" onclick="filterNews('actividades')">Actividades</button>
          <button class="news-filter-btn" onclick="filterNews('comunicados')">Comunicados</button>
          <button class="news-filter-btn" onclick="filterNews('reuniones')">Reuniones</button>
        </div>

        <article class="news-article fade-in news-item" data-category="actividades">
          <div class="news-article-header">
            <div>
              <h3 class="news-article-title">Taller de rob√≥tica para padres e hijos</h3>
              <span class="news-article-category">Actividades ¬∑ 12 de junio, 2025</span>
            </div>
            <div class="news-article-icon">ü§ñ</div>
          </div>
          <p class="news-article-desc">El pr√≥ximo s√°bado organizamos un taller de rob√≥tica donde padres e hijos podr√°n aprender juntos los fundamentos de la programaci√≥n y la rob√≥tica educativa.</p>
        </article>

        <article class="news-article fade-in news-item" data-category="comunicados">
          <div class="news-article-header">
            <div>
              <h3 class="news-article-title">Nuevas medidas de seguridad en el centro</h3>
              <span class="news-article-category orange">Comunicados ¬∑ 8 de junio, 2025</span>
            </div>
            <div class="news-article-icon">üõ°</div>
          </div>
          <p class="news-article-desc">Informamos sobre las nuevas medidas de seguridad implementadas en el centro escolar tras las reuniones mantenidas entre el AMPA y la direcci√≥n del colegio.</p>
        </article>

        <article class="news-article fade-in news-item" data-category="reuniones">
          <div class="news-article-header">
            <div>
              <h3 class="news-article-title">Asamblea general ordinaria</h3>
              <span class="news-article-category green">Reuniones ¬∑ 1 de junio, 2025</span>
            </div>
            <div class="news-article-icon">üì¢</div>
          </div>
          <p class="news-article-desc">Convocatoria abierta para todas las familias socias, con orden del d√≠a publicado con antelaci√≥n.</p>
        </article>

        <article class="news-article fade-in news-item" data-category="actividades">
          <div class="news-article-header">
            <div>
              <h3 class="news-article-title">Campamento de verano</h3>
              <span class="news-article-category blue">Actividades ¬∑ 25 de mayo, 2025</span>
            </div>
            <div class="news-article-icon">‚õ∫</div>
          </div>
          <p class="news-article-desc">Programa de campamento urbano con talleres de deportes, arte y ciencia para diferentes edades.</p>
        </article>
      </div>
    </div>
  </section>

  {% if can_manage_members %}
    <style>
      .news-header { display:flex; align-items:flex-start; justify-content:space-between; gap:1rem; flex-wrap:wrap; }
      .news-subtitle { margin:0.3rem 0 0; color: #cdd7e6; font-weight:500; }
      .news-mode-switch { display:flex; align-items:center; gap:0.4rem; background: rgba(255,255,255,0.04); padding:0.5rem 0.65rem; border-radius: 999px; border:1px solid rgba(255,255,255,0.08); }
      .news-switch-btn { background: transparent; border:1px solid rgba(255,255,255,0.25); color: #fff; border-radius: 999px; padding:0.4rem 0.85rem; cursor:pointer; font-weight:700; }
      .news-switch-btn.active { background: #ff8a4c; color:#111; border-color: #ff8a4c; box-shadow: 0 10px 25px rgba(255,138,76,0.35); }
      .news-switch-btn:hover { opacity:0.92; }
      .switch-label { color:#cdd7e6; font-weight:600; margin-right:0.25rem; }
    </style>
    <script>
      const btnView = document.getElementById('mode-view');
      const btnEdit = document.getElementById('mode-edit');
      if (btnView && btnEdit) {
        btnView.addEventListener('click', () => {
          btnView.classList.add('active');
          btnEdit.classList.remove('active');
        });
        btnEdit.addEventListener('click', () => {
          window.location.href = "{{ url_for('admin.posts') }}";
        });
      }
    </script>
  {% endif %}
{% endblock %}

{% extends "public/layout.html" %}

{% block title %}Contacto ¬∑ AMPA Juli√°n Nieto{% endblock %}

{% block content %}
  <section id="contacto" class="contact-section">
    <div class="container">
      <div class="contact-grid">
        <div class="fade-in">
          <h3 class="contact-info-title">Informaci√≥n de Contacto</h3>
          <div class="contact-info-list">
            <div class="contact-info-item">
              <div class="contact-info-icon blue">‚úâ</div>
              <div>
                <div class="contact-info-label">Email</div>
                <div class="contact-info-value">ampaceipjnt@gmail.com</div>
              </div>
            </div>
            <div class="contact-info-item">
              <div class="contact-info-icon orange">‚òé</div>
              <div>
                <div class="contact-info-label">Tel√©fono</div>
                <div class="contact-info-value">646 68 83 44</div>
              </div>
            </div>
            <div class="contact-info-item">
              <div class="contact-info-icon green">üìç</div>
              <div>
                <div class="contact-info-label">Direcci√≥n</div>
                <div class="contact-info-value">CEIP Juli√°n Nieto Tapia<br>Camino del Pil√≥n 150<br>50011 Zaragoza (Miralbueno)</div>
              </div>
            </div>
          </div>
          <div class="contact-social">
            <div class="contact-social-title">S√≠guenos en Redes Sociales</div>
            <div class="contact-social-links">
              <a href="#" class="contact-social-link">f</a>
              <a href="#" class="contact-social-link" style="background:#db2777;">üì∏</a>
              <a href="#" class="contact-social-link" style="background:#38bdf8;">X</a>
            </div>
          </div>
        </div>
        <div class="contact-form fade-in">
          <h3 class="contact-form-title">Env√≠anos un Mensaje</h3>
          
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                <div class="flash-message flash-{{ category }}" style="padding: 1rem; margin-bottom: 1rem; border-radius: 0.5rem; {% if category == 'success' %}background-color: #10b981; color: white;{% else %}background-color: #ef4444; color: white;{% endif %}">
                  {{ message }}
                </div>
              {% endfor %}
            {% endif %}
          {% endwith %}
          
          <form action="/contacto" method="post">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            
            <label>Nombre completo</label>
            <input type="text" name="nombre" value="{{ form_data.nombre if form_data else '' }}" required maxlength="100">
            
            <label>Email</label>
            <input type="email" name="email" value="{{ form_data.email if form_data else '' }}" required maxlength="150">
            
            <label>Asunto</label>
            <select name="asunto" required>
              <option value="Consulta general" {% if form_data and form_data.asunto == 'Consulta general' %}selected{% endif %}>Consulta general</option>
              <option value="Propuesta de actividad" {% if form_data and form_data.asunto == 'Propuesta de actividad' %}selected{% endif %}>Propuesta de actividad</option>
              <option value="Sugerencia" {% if form_data and form_data.asunto == 'Sugerencia' %}selected{% endif %}>Sugerencia</option>
              <option value="Queja o incidencia" {% if form_data and form_data.asunto == 'Queja o incidencia' %}selected{% endif %}>Queja o incidencia</option>
              <option value="Voluntariado" {% if form_data and form_data.asunto == 'Voluntariado' %}selected{% endif %}>Voluntariado</option>
            </select>
            
            <label>Mensaje</label>
            <textarea name="mensaje" rows="5" required minlength="10" maxlength="5000">{{ form_data.mensaje if form_data else '' }}</textarea>
            
            <button type="submit">Enviar Mensaje</button>
          </form>
        </div>
      </div>
    </div>
  </section>
{% endblock %}
